<build>
  <plugins>
    <!-- 1. Generate a build timestamp -->
    <plugin>
      <groupId>org.codehaus.mojo</groupId>
      <artifactId>build-helper-maven-plugin</artifactId>
      <version>3.5.0</version>
      <executions>
        <execution>
          <id>timestamp</id>
          <goals>
            <goal>timestamp-property</goal>
          </goals>
          <configuration>
            <!-- Format: yyyyMMdd-HHmmss -->
            <timestampPropertyName>build.timestamp</timestampPropertyName>
            <pattern>yyyyMMdd-HHmmss</pattern>
          </configuration>
        </execution>
      </executions>
    </plugin>

    <!-- 2. Copy ucc-g-1.3.jar into a timestamped folder -->
    <plugin>
      <groupId>org.apache.maven.plugins</groupId>
      <artifactId>maven-dependency-plugin</artifactId>
      <version>3.7.1</version>
      <executions>
        <execution>
          <id>copy-ucc-jar</id>
          <phase>package</phase>
          <goals>
            <goal>copy</goal>
          </goals>
          <configuration>
            <artifactItems>
              <artifactItem>
                <groupId>com.example</groupId>
                <artifactId>ucc-g</artifactId>
                <version>1.3</version>
                <type>jar</type>
                <destFileName>ucc-g-1.3.jar</destFileName>
              </artifactItem>
            </artifactItems>
            <!-- New folder with timestamp -->
            <outputDirectory>${project.build.directory}/${build.timestamp}</outputDirectory>
          </configuration>
        </execution>
      </executions>
    </plugin>

    <!-- 3. Run the jar from the timestamped folder -->
    <plugin>
      <groupId>org.codehaus.mojo</groupId>
      <artifactId>exec-maven-plugin</artifactId>
      <version>3.5.1</version>
      <executions>
        <execution>
          <id>run-ucc</id>
          <phase>verify</phase>
          <goals>
            <goal>exec</goal>
          </goals>
          <configuration>
            <executable>java</executable>
            <arguments>
              <argument>-jar</argument>
              <argument>${project.build.directory}/${build.timestamp}/ucc-g-1.3.jar</argument>
              <!-- Add more arguments if needed -->
            </arguments>
          </configuration>
        </execution>
      </executions>
    </plugin>
  </plugins>
</build>